DROP TABLE DRIVER_TABLE;
DROP SEQUENCE D_NO_SEQ;

CREATE SEQUENCE D_NO_SEQ;

CREATE TABLE DRIVER_TABLE(
	D_NO NUMBER NOT NULL,
	D_NAME VARCHAR2(100) NOT NULL,
	D_ID VARCHAR2(100) NOT NULL,
	D_PW VARCHAR2(100) NOT NULL,
	D_BIRTH VARCHAR2(6) NOT NULL,
	D_GENDER VARCHAR2(2) NOT NULL,
	D_PHONE VARCHAR2(100) NOT NULL,
	D_EMAIL VARCHAR2(100) NOT NULL,
	D_ENABLED VARCHAR2(2) NOT NULL,
	D_LICENSE VARCHAR2(100) NOT NULL,
	D_CARNUM VARCHAR2(100) NOT NULL,
	D_ROLE VARCHAR2(50) NOT NULL,

	CONSTRAINT DRIVER_TABLE_PK PRIMARY KEY(D_NO),
	CONSTRAINT DRIVER_TABLE_UQ_ID UNIQUE(D_ID),
	CONSTRAINT DRIVER_TABLE_GENDER_CHK CHECK(D_GENDER IN ('M','W')),
	CONSTRAINT DRIVER_TABLE_UQ_PHONE UNIQUE(D_PHONE),
	CONSTRAINT DRIVER_TABLE_UQ_EMAIL UNIQUE(D_EMAIL),
	CONSTRAINT DRIVER_TABLE_D_ROLE_CHK CHECK(D_ROLE IN ('ADMIN','USER','DRIVER')),
	CONSTRAINT DRIVER_TABLE_ENABLED_CHK CHECK(D_ENABLED IN ('Y','N')),
	CONSTRAINT DRIVER_TABLE_UQ_D_LICENSE UNIQUE(D_LICENSE),
	CONSTRAINT DRIVER_TABLE_UQ_D_CARNUM UNIQUE(D_CARNUM)
);


INSERT INTO DRIVER_TABLE VALUES(D_NO_SEQ.NEXTVAL, '김단비', 'test1', 'test1', '850623','W','010-1234-5678','test11@gamil.com','Y','26-08-004796-50','49조2811','DRIVER');


SELECT * FROM DRIVER_TABLE;



